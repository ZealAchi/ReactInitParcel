import { __extends } from "tslib";
import * as React from 'react';
import { PureComponent } from 'react';
var UploadImageItem = (function (_super) {
    __extends(UploadImageItem, _super);
    function UploadImageItem() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.state = {
            hideDeleteIcon: false,
        };
        _this.handleRemove = function () {
            var _a = _this.props, index = _a.index, onDelete = _a.onDelete;
            onDelete(index);
        };
        _this.handleDragStart = function () {
            _this.setState({
                hideDeleteIcon: true,
            });
        };
        _this.handleDragEnd = function () {
            _this.setState({
                hideDeleteIcon: false,
            });
        };
        return _this;
    }
    UploadImageItem.prototype.render = function () {
        var _a = this.props, progress = _a.progress, src = _a.src, index = _a.index, prefix = _a.prefix;
        var hideDeleteIcon = this.state.hideDeleteIcon;
        return (React.createElement("li", { className: prefix + "-image-item", onDragStart: this.handleDragStart, onDragEnd: this.handleDragEnd, "data-id": index, "data-zv": '7.4.3' },
            React.createElement("div", { className: prefix + "-image-item__box", style: {
                    backgroundImage: "url(" + src + ")",
                }, "data-zv": '7.4.3' }),
            !hideDeleteIcon && (React.createElement("span", { className: prefix + "__close-modal", onClick: this.handleRemove, "data-zv": '7.4.3' }, "\u00D7")),
            progress && (React.createElement("div", { className: prefix + "-image-item__progress", "data-zv": '7.4.3' }, progress.toFixed(1) + "%"))));
    };
    return UploadImageItem;
}(PureComponent));
export { UploadImageItem };
export default UploadImageItem;
