import * as Sortable from 'sortablejs';
var UNSORTABLE = 'unsortable';
export function initSortable(el, onMove) {
    var initState = [];
    var sortable = Sortable.create(el, {
        filter: "." + UNSORTABLE,
        onStart: function () {
            initState = sortable.toArray();
        },
        onMove: function (evt) {
            return evt.related.className !== UNSORTABLE;
        },
        onEnd: function (evt) {
            var newIndex = evt.newIndex, oldIndex = evt.oldIndex;
            sortable.sort(initState);
            onMove(oldIndex, newIndex);
        },
    });
    return sortable;
}
export function swapArray(list, fromIndex, toIndex) {
    var result = Array.from([].concat(list));
    var removed = result.splice(fromIndex, 1)[0];
    result.splice(toIndex, 0, removed);
    return result;
}
