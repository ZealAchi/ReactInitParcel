import { __assign, __rest } from "tslib";
import * as React from 'react';
import Icon from '../icon';
import { createUseIMEComposition } from '../ime-composition';
function preventDefault(e) {
    e.preventDefault();
}
var useIMEComposition = createUseIMEComposition();
export var InputCore = React.forwardRef(function (props, ref) {
    var addonBefore = props.addonBefore, addonAfter = props.addonAfter, showClear = props.showClear, valueProp = props.value, onChangeProp = props.onChange, onCompositionStartProp = props.onCompositionStart, onCompositionEndProp = props.onCompositionEnd, onClear = props.onClear, width = props.width, size = props.size, onPressEnter = props.onPressEnter, autoFocus = props.autoFocus, autoSelect = props.autoSelect, initSelectionStart = props.initSelectionStart, initSelectionEnd = props.initSelectionEnd, icon = props.icon, inline = props.inline, onIconClick = props.onIconClick, otherProps = __rest(props, ["addonBefore", "addonAfter", "showClear", "value", "onChange", "onCompositionStart", "onCompositionEnd", "onClear", "width", "size", "onPressEnter", "autoFocus", "autoSelect", "initSelectionStart", "initSelectionEnd", "icon", "inline", "onIconClick"]);
    var _a = useIMEComposition(valueProp, onChangeProp, onCompositionStartProp, onCompositionEndProp), value = _a.value, onChange = _a.onChange, onCompositionStart = _a.onCompositionStart, onCompositionEnd = _a.onCompositionEnd;
    return (React.createElement(React.Fragment, null,
        addonBefore && (React.createElement("div", { className: "zent-input-addon-before", "data-zv": '7.4.3' }, addonBefore)),
        React.createElement("input", __assign({}, otherProps, { ref: ref, className: "zent-input", value: value, onChange: onChange, onCompositionStart: onCompositionStart, onCompositionEnd: onCompositionEnd, "data-zv": '7.4.3' })),
        showClear && valueProp && (React.createElement(Icon, { className: "zent-input-close", type: "close-circle", onClick: onClear, onMouseDown: preventDefault })),
        icon ? (React.createElement(Icon, { className: "zent-input-icon", type: icon, onClick: onIconClick })) : null,
        addonAfter && React.createElement("div", { className: "zent-input-addon-after", "data-zv": '7.4.3' }, addonAfter)));
});
InputCore.displayName = 'Input';
