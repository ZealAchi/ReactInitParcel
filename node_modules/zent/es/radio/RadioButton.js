import { __assign, __rest } from "tslib";
import * as React from 'react';
import cx from 'classnames';
import getWidth from '../utils/getWidth';
import { getRadioState, useRadioHandler } from './AbstractRadio';
import { DisabledContext } from '../disabled';
import GroupContext from './GroupContext';
export function RadioButton(props) {
    var className = props.className, style = props.style, children = props.children, value = props.value, width = props.width, others = __rest(props, ["className", "style", "children", "value", "width"]);
    var disabledCtx = React.useContext(DisabledContext);
    var groupCtx = React.useContext(GroupContext);
    if (!groupCtx) {
        throw new Error('Radio.Button must be nested within Radio.Group');
    }
    var _a = getRadioState(disabledCtx, groupCtx, props), checked = _a.checked, disabled = _a.disabled, readOnly = _a.readOnly;
    var onChange = useRadioHandler(groupCtx, props);
    var classString = cx(className, 'zent-radio-button', {
        'zent-radio-button--checked': !!checked,
        'zent-radio-button--disabled': disabled || readOnly,
    });
    var widthStyle = getWidth(width);
    var wrapStyle = __assign(__assign({}, style), widthStyle);
    return (React.createElement("label", { className: classString, style: wrapStyle, "data-zv": '7.4.3' },
        React.createElement("input", __assign({}, others, { type: "radio", checked: !!checked, disabled: disabled, readOnly: readOnly, onChange: onChange, "data-zv": '7.4.3' })),
        React.createElement("span", { className: "zent-radio-button__content", "data-zv": '7.4.3' }, children)));
}
export default RadioButton;
