import formatDate from '../utils/date/formatDate';
import { getValidDate } from '../utils/date/helpers';
import { ONE_DAY } from './constants';
export function calculateTime(format, choosedItem, valueType) {
    var startTime;
    var endTime;
    var today = getToday();
    var tomorrow = today + ONE_DAY;
    if (Array.isArray(choosedItem)) {
        startTime = choosedItem[0], endTime = choosedItem[1];
    }
    else {
        if (choosedItem > 1) {
            startTime = today - (choosedItem - 1) * ONE_DAY;
        }
        else {
            startTime = today - choosedItem * ONE_DAY;
        }
        if (choosedItem === 0) {
            endTime = tomorrow - 1000;
        }
        else if (choosedItem === 1) {
            endTime = today - 1000;
        }
        else {
            endTime = Date.now();
        }
    }
    var startTimeDate = getValidDate(startTime);
    var endTimeDate = getValidDate(endTime);
    if (valueType === 'number') {
        return [startTimeDate.getTime(), endTimeDate.getTime()];
    }
    else if (valueType === 'date') {
        return [startTimeDate, endTimeDate];
    }
    var startTimeStr = formatDate(startTimeDate, format);
    var endTimeStr = formatDate(endTimeDate, format);
    return [startTimeStr, endTimeStr];
}
function getToday() {
    var d = new Date();
    d.setHours(0);
    d.setMinutes(0);
    d.setSeconds(0);
    d.setMilliseconds(0);
    return d.getTime();
}
