import { __assign, __extends } from "tslib";
import * as React from 'react';
import { PureComponent } from 'react';
import { formatDate } from '../utils';
import DatePanelBody from './DatePanelBody';
import MonthPanel from '../month/MonthPanel';
import TimePanel from '../time/TimePanel';
import PanelHeader from '../common/PanelHeader';
var DatePanel = (function (_super) {
    __extends(DatePanel, _super);
    function DatePanel() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.state = {
            showMonth: false,
        };
        _this.showMonth = function () {
            _this.setState({
                showMonth: true,
            });
        };
        _this.onSelectMonth = function (val, hide) {
            _this.props.onChange(val);
            _this.setState({
                showMonth: hide || false,
            });
        };
        return _this;
    }
    DatePanel.prototype.render = function () {
        var _a = this, _b = _a.props, actived = _b.actived, disabledDate = _b.disabledDate, i18n = _b.i18n, onHover = _b.onHover, onNext = _b.onNext, onPrev = _b.onPrev, onSelect = _b.onSelect, range = _b.range, selected = _b.selected, showNext = _b.showNext, showPrev = _b.showPrev, showTime = _b.showTime, disableSelectedHighlight = _b.disableSelectedHighlight, showMonth = _a.state.showMonth;
        var monthPanel;
        var timePanel;
        if (showMonth) {
            monthPanel = (React.createElement(MonthPanel, { actived: actived, selected: selected, onChange: this.onSelectMonth, onSelect: this.onSelectMonth, i18n: i18n }));
        }
        if (showTime) {
            timePanel = React.createElement(TimePanel, __assign({}, showTime, { i18n: i18n }));
        }
        return (React.createElement("div", { className: "date-panel", "data-zv": '7.4.3' },
            React.createElement(PanelHeader, { title: formatDate(actived, i18n.panel.titleFormat), onClickTitle: this.showMonth, prev: onPrev, next: onNext, showPrev: showPrev, showNext: showNext }),
            React.createElement(DatePanelBody, { disableSelectedHighlight: disableSelectedHighlight, actived: actived, range: range, selected: selected, disabledDate: disabledDate, onSelect: onSelect, onHover: onHover, i18n: i18n }),
            showMonth && monthPanel,
            showTime && timePanel));
    };
    DatePanel.defaultProps = {
        showPrev: true,
        showNext: true,
    };
    return DatePanel;
}(PureComponent));
export default DatePanel;
