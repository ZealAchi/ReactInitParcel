import { __extends } from "tslib";
import * as React from 'react';
import { NumberInput } from '../../../number-input';
import BasePageJumper from './BasePageJumper';
var INPUT_WIDTH = 56;
var MiniPageJumper = (function (_super) {
    __extends(MiniPageJumper, _super);
    function MiniPageJumper(props) {
        var _this = _super.call(this, props) || this;
        _this.reset = false;
        _this.state.prevProps = props;
        return _this;
    }
    MiniPageJumper.prototype.render = function () {
        var value = this.state.value;
        var totalPages = this.props.totalPages;
        return (React.createElement("div", { className: "zent-pagination-mini-page-jumper", "data-zv": '7.4.3' },
            React.createElement(NumberInput, { value: value, onInput: this.onChange, onPressEnter: this.onConfirm, width: INPUT_WIDTH, min: 1, decimal: 0 }),
            React.createElement("span", { className: "zent-pagination-mini-page-jumper__sep", "data-zv": '7.4.3' }, "/"),
            React.createElement("span", { className: "zent-pagination-mini-page-jumper__total", "data-zv": '7.4.3' }, totalPages)));
    };
    MiniPageJumper.getDerivedStateFromProps = function (props, state) {
        return {
            value: props !== state.prevProps ? props.current : state.value,
            prevProps: props,
        };
    };
    MiniPageJumper.prototype.handleJump = function (pageNumber) {
        var _a = this.props, onJump = _a.onJump, totalPages = _a.totalPages;
        onJump(pageNumber);
        if (pageNumber > totalPages) {
            this.setState({
                value: totalPages.toString(),
            });
        }
        if (pageNumber < 1) {
            this.setState({
                value: '1',
            });
        }
    };
    return MiniPageJumper;
}(BasePageJumper));
export { MiniPageJumper };
export default MiniPageJumper;
