import { useMemo } from 'react';
import { FormStrategy, FormModel } from './models';
/**
 * 创建一个 `Form`
 *
 * @param arg 指定一个 builder 对象来显式构造表单数据，或者指定 `FormStrategy.View` 自动根据视图构造表单数据
 */
export function useForm(arg) {
    return useMemo(function () {
        var strategy;
        var model;
        if (arg === FormStrategy.View) {
            strategy = arg;
            model = new FormModel({});
        }
        else {
            strategy = FormStrategy.Model;
            model = arg.build();
        }
        var ctx = {
            strategy: strategy,
            form: model,
            parent: model,
        };
        return {
            ctx: ctx,
            model: model,
        };
    }, [arg]);
}
